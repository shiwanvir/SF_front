
<div class="panel-body">

<div class="row">

<form class="form-horizontal " [formGroup]="formGroup" style="margin-top:-25px">
  <div class="col-md-12">
<!--#<div class="panel panel-flat">-->
<!--   <div class="panel-heading">
      <h5 class="panel-title">Component SMV</h5>
      <div class="heading-elements">
         <ul class="icons-list">
            <li><a data-action="collapse"></a></li>
            <li><a data-action="reload"></a></li>
            <li><a data-action="close"></a></li>
         </ul>
      </div>
   </div>-->
<!--  #<div class="panel-body">-->
     <div class="row">
       <div class="col-md-3">


        <label>Style <span class="text-danger">*</span> :</label>
        <ng-select [items]="style$ | async"
                placeholder = "Select Style"
                [selectOnTab]="true"
                bindLabel="style_no"
                [loading]="styleLoading"
                [typeahead]="styleInput$"
                [(ngModel)]="selectedStyle"
                formControlName="style_no" (blur)="formValidate()">
      </ng-select>
        <span class="err">{{ formFields.style_no }}</span>
   <span *ngIf="formFields.validation_error != ''" class="err">{{formFields.validation_error}}</span>

      </div>

      <div class="col-md-3">
            <label>BOM Stage <span class="text-danger">*</span> :</label>
        <ng-select [items]="bomStage$ | async"
                placeholder = "Select BOM Stage"
                [selectOnTab]="true"
                bindLabel="bom_stage_description"
                [loading]="bomStageLoading"
                [typeahead]="bomStageInput$"
                [(ngModel)]="selectedBomSatage"
                formControlName="bom_stage_description" (blur)="formValidate()">
      </ng-select>
      <span class="err">{{ formFields.bom_stage_description}}</span>
 <span *ngIf="formFields.validation_error != ''" class="err">{{formFields.validation_error}}</span>

    </div>

    <div class="col-md-3">

      <label>Color Type <span class="text-danger">*</span> :</label>
      <ng-select [items]="colorOption$ | async"
              placeholder = "Select Color Type"
              [selectOnTab]="true"
              bindLabel="color_option"
              [loading]="colorOptionLoading"
              [typeahead]="colorOptionInput$"
              [(ngModel)]="selectedColorOption"
              formControlName="color_option" (blur)="formValidate()">
    </ng-select>
    <span class="err">{{ formFields.color_option}}</span>
<span *ngIf="formFields.validation_error != ''" class="err">{{formFields.validation_error}}</span>

  </div>
  <div class="col-md-3">

    <label>Buy Name <span class="text-danger"></span>:</label>
    <ng-select [items]="buyName$ | async"
            placeholder = "Select Buy Name"
            [selectOnTab]="true"
            bindLabel="buy_name"
            [loading]="buyNameLoading"
            [typeahead]="buyNameInput$"
            [(ngModel)]="selectedBuyName"
            formControlName="buy_name" (blur)="formValidate()">
  </ng-select>
 <span class="err">{{ formFields.buy_name}}</span>
 <span *ngIf="formFields.validation_error != ''" class="err">{{formFields.validation_error}}</span>

</div>

<div class="col-md-12">
  <div [hasPermission]="['SMV_COMPONENT_CREATE']">
  <div class="heading-btn pull-right" style="margin-top:20px;float:right:10px">
     <button type="submit"  class="btn bg-teal-400 btn-labeled btn-primary btn-xs" [disabled]="formGroup.invalid" style="float: right;"   (click)="clear()"><b><i class="icon-plus3"></i></b>New SMV</button>

    </div>
 <div class="heading-btn pull-right" style="margin-top:20px;margin-right:10px">
     <button type="submit"  class="btn bg-teal-400 btn-labeled btn-primary btn-xs" [disabled]="formGroup.invalid" style="text-align:right"  (click)="searchDetails()"><b><i class="icon-search4"></i></b>Search</button>


   </div>
   </div>
</div>

    </div>
   </div>

<!--#</div>-->
<!--#</div>-->
<!-- /text inputs -->
<!-- Input groups -->
  </form>
</div>


<div class="row" style="margin-top:15px">
  <div class="col-md-6">
    <legend class="text-bold" style="margin-top:20px">Operation Details</legend>
    <div style="border-style:solid;border-width:1px;border-color:#DCDCDC">
      <hot-table
          [hotId]="instance"
          [settings]="hotOptions"
          [(data)]="dataset">
      </hot-table>
    </div>
  </div>
  <div class="col-md-6">
    <legend class="text-bold" style="margin-top:20px">Total ComponentWise SMV</legend>
    <div style="border-style:solid;border-width:1px;border-color:#DCDCDC">
      <hot-table
          [hotId]="instanceSum"
          [settings]="hotOptionsSum"
          [data]="datasetSum">
      </hot-table>
    </div>
  </div>

</div>


<!-- <div class="col-md-7">
  <legend class="text-bold" style="margin-top:20px">Meterial Details</legend>
  <div class="row">
    <div style="border-style:solid;border-width:1px;border-color:#DCDCDC">
      <hot-table
        [hotId]="instance"
        [settings]="hotOptions"
        [(data)]="dataset">
    </hot-table>
    </div>
  </div>
</div>

<div class="col-md-5">
  <legend class="text-bold" style="margin-top:20px">Total ComponentWise SMV</legend>
  <div class="row">

    <div style="border-style:solid;border-width:1px;border-color:#E3D3A6">
      <hot-table
        [hotId]="instanceSum"
        [settings]="hotOptionsSum"
        [data]="datasetSum">
    </hot-table>
    </div>


  </div>
</div> -->


<div class=" col-md-12">
  <div class="heading-btn" style="margin-top:25px">

    <div class="col-md-7">



    </div>

    <div class="col-md-5">
    <div class="row">
      <div class=" col-md-12">

          <div class="col-md-6 pull-left">
            <form class="form-horizontal " [formGroup]="formGroup1" style="">
                <fieldset class="content-group">
                  <label class="text-bold">Stylewise Total SMV<span class="text-danger"></span> :</label>
                  <input type="text" formControlName="style_wise_total_smv" class="form-control input-xxs"
                    placeholder="Stylewise Total SMV" (blur)="formValidate()" upperCase>
                  <span class="err">{{ formFields.style_wise_total_smv }}</span>
              </fieldset>
               </form>

          </div>
          <div class="col-md-6 heading-btn pull-right">
            <div [hasPermission]="['SMV_COMPONENT_CREATE']">
              <button type="button" class="btn bg-teal-400 btn-labeled btn-primary btn-xs" style="margin-top:20px;float:right:10px"   [disabled]="processing" (click)="checkSilhouetteSmvRanage()">
              <b><i class="icon-floppy-disk"></i></b>Save</button>
              </div>
          </div>

      </div>
        </div>




    </div>


  </div>
</div>



      <!-- popup -->
       <div bsModal #colorOptionModel="bs-modal" [config]="{backdrop: 'static'}"
        class="modal fade" (onShow)="showEvent($event)">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <form class="form-horizontal" [formGroup]="formGroupReason" (ngSubmit)="save()">
                    <div class="modal-header  bg-teal-300">
                        <button type="button" class="close" (click)="colorOptionModel.hide()">&times;</button>
                        <h5 class="modal-title">{{ modelTitle }}</h5>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" formControlName="position_id" class="form-control input-xxs">
                        <fieldset class="content-group">
                          <label>Reason <span class="text-danger">*</span> :</label>
                          <ng-select [items]="reason$ | async"
                                  placeholder = "Select Reason"
                                  [selectOnTab]="true"
                                  bindLabel="reason_description"
                                  [loading]="reasonLoading"
                                  [typeahead]="reasonInput$"
                                  [(ngModel)]="selectedReason"
                                  formControlName="comments" (blur)="formValidate()">
                        </ng-select>
                        <span class="err">{{ formFieldsReason.comments}}</span>
                        <span class="err" > {{ formValidatorReason.validate_field('comments')  }} </span>

                        </fieldset>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn bg-teal-400 btn-labeled btn-danger btn-xs" (click)="colorOptionModel.hide()"><b><i class="icon-cross"></i></b> Close</button>
                        <button type="submit" class="btn bg-teal-400 btn-labeled btn-success btn-xs" [disabled]="formGroupReason.invalid||processing"  (click)="saveTableData()">
                            <b><i class="icon-floppy-disk"></i></b> Save</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

</div>


<!-- /input groups -->
